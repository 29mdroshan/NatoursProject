<section class="section-header" [ngStyle]="{'background-image': 'url(/assets/img/tours/' + tourImageCover + ')'}">
    <div class="overlay"></div> <!-- Overlay for background opacity -->
    
    <div class="heading-box">
      <h1 class="heading-primary">
        <span>{{tourName[0]}} <br /> <p *ngIf="tourName[1]">{{tourName[1]}}</p></span>
      </h1>
      <div class="heading-box__group">
        <div class="heading-box__detail">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="m612-292 56-56-148-148v-184h-80v216l172 172ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q133 0 226.5-93.5T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160Z"/></svg>          
            <span class="heading-box__text">{{tour?.duration}} days</span>
        </div>
        <div class="heading-box__detail">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="M480-301q99-80 149.5-154T680-594q0-90-56-148t-144-58q-88 0-144 58t-56 148q0 65 50.5 139T480-301Zm0 101Q339-304 269.5-402T200-594q0-125 78-205.5T480-880q124 0 202 80.5T760-594q0 94-69.5 192T480-200Zm0-320q33 0 56.5-23.5T560-600q0-33-23.5-56.5T480-680q-33 0-56.5 23.5T400-600q0 33 23.5 56.5T480-520ZM200-80v-80h560v80H200Zm280-520Z"/></svg>
          <span class="heading-box__text">{{tour?.startLocation?.description}}</span>
        </div>
      </div>
    </div>
  </section>

  <section class="section-description">
    <div class="overview-box">
      <div>
        <div class="overview-box__group">
          <h2 class="heading-secondary ma-bt-lg">Quick facts</h2>
          <div class="overview-box__detail">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Zm0-480h560v-80H200v80Zm0 0v-80 80Zm280 240q-17 0-28.5-11.5T440-440q0-17 11.5-28.5T480-480q17 0 28.5 11.5T520-440q0 17-11.5 28.5T480-400Zm-160 0q-17 0-28.5-11.5T280-440q0-17 11.5-28.5T320-480q17 0 28.5 11.5T360-440q0 17-11.5 28.5T320-400Zm320 0q-17 0-28.5-11.5T600-440q0-17 11.5-28.5T640-480q17 0 28.5 11.5T680-440q0 17-11.5 28.5T640-400ZM480-240q-17 0-28.5-11.5T440-280q0-17 11.5-28.5T480-320q17 0 28.5 11.5T520-280q0 17-11.5 28.5T480-240Zm-160 0q-17 0-28.5-11.5T280-280q0-17 11.5-28.5T320-320q17 0 28.5 11.5T360-280q0 17-11.5 28.5T320-240Zm320 0q-17 0-28.5-11.5T600-280q0-17 11.5-28.5T640-320q17 0 28.5 11.5T680-280q0 17-11.5 28.5T640-240Z"/></svg>
            <span class="overview-box__label">Next date</span>
            <span class="overview-box__text">{{formattedDate}}</span>
          </div>
          <div class="overview-box__detail">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="m136-240-56-56 296-298 160 160 208-206H640v-80h240v240h-80v-104L536-320 376-480 136-240Z"/></svg>
            <span class="overview-box__label">Difficulty</span>
            <span class="overview-box__text">{{tour?.difficulty}}</span>
          </div>
          <div class="overview-box__detail">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-160v-112q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v112H160Zm80-80h480v-32q0-11-5.5-20T700-306q-54-27-109-40.5T480-360q-56 0-111 13.5T260-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T560-640q0-33-23.5-56.5T480-720q-33 0-56.5 23.5T400-640q0 33 23.5 56.5T480-560Zm0-80Zm0 400Z"/></svg>
            <span class="overview-box__label">Participants</span>
            <span class="overview-box__text">{{tour?.maxGroupSize}} people</span>
          </div>
          <div class="overview-box__detail">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="m305-704 112-145q12-16 28.5-23.5T480-880q18 0 34.5 7.5T543-849l112 145 170 57q26 8 41 29.5t15 47.5q0 12-3.5 24T866-523L756-367l4 164q1 35-23 59t-56 24q-2 0-22-3l-179-50-179 50q-5 2-11 2.5t-11 .5q-32 0-56-24t-23-59l4-165L95-523q-8-11-11.5-23T80-570q0-25 14.5-46.5T135-647l170-57Zm49 69-194 64 124 179-4 191 200-55 200 56-4-192 124-177-194-66-126-165-126 165Zm126 135Z"/></svg>
            <span class="overview-box__label">Rating</span>
            <span class="overview-box__text"> {{tour?.ratingsAverage}} / 5</span>
          </div>
        </div>

        <div class="overview-box__group">
          <h2 class="heading-secondary ma-bt-lg">Your tour guides</h2>

          <div class="overview-box__detail" *ngFor="let guide of tour?.guides">
            <img
              src="/assets/img/users/{{guide.photo}}" alt="Lead guide" class="overview-box__img"
            />
            <span class="overview-box__text">{{guide.name}}</span>
          </div>
        </div>
      </div>
    </div>

    <div class="description-box">
      <h2 class="heading-secondary ma-bt-lg">About the park camper tour</h2>
      <p class="description__text">
        {{tour?.description}}
      </p>
      <p class="description__text">
        {{tour?.description}}
      </p>
    </div>
  </section>
  
  <section class="section-pictures">
    <div class="picture-box">
      <img
        class="picture-box__img picture-box__img--1"
        src="assets/img/tours/{{tour?.images[0]}}"
        alt="The Park Camper Tour 1"
      />
    </div>
    <div class="picture-box">
      <img
        class="picture-box__img picture-box__img--2"
        src="assets/img/tours/{{tour?.images[1]}}"
        alt="The Park Camper Tour 1"
      />
    </div>
    <div class="picture-box">
      <img
        class="picture-box__img picture-box__img--3"
        src="assets/img/tours/{{tour?.images[2]}}"
        alt="The Park Camper Tour 1"
      />
    </div>
  </section>

  <section class="section-reviews">
    <div class="reviews">
      <div class="reviews__card" *ngFor="let review of reviewsList">
        <div class="reviews__avatar">
          <img
            src="assets/img/users/{{review.user.photo}}"
            alt="Jim Brown"
            class="reviews__avatar-img"
          />
          <h6 class="reviews__user">{{review.user.name}}</h6>
        </div>
        <p class="reviews__text">
         {{review.review}}
        </p>
        <div class="reviews__rating">
          <svg *ngFor="let star of [1, 2, 3, 4, 5]" [class]="star <= review.rating ? 'reviews__star reviews__star--active' : 'reviews__star reviews__star--inactive'"
          height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="m305-704 112-145q12-16 28.5-23.5T480-880q18 0 34.5 7.5T543-849l112 145 170 57q26 8 41 29.5t15 47.5q0 12-3.5 24T866-523L756-367l4 164q1 35-23 59t-56 24q-2 0-22-3l-179-50-179 50q-5 2-11 2.5t-11 .5q-32 0-56-24t-23-59l4-165L95-523q-8-11-11.5-23T80-570q0-25 14.5-46.5T135-647l170-57Zm49 69-194 64 124 179-4 191 200-55 200 56-4-192 124-177-194-66-126-165-126 165Zm126 135Z"/></svg>
        </div>
      </div>
    </div>
  </section>


  <section class="section-cta">
    <div class="cta">
      <div class="cta__img cta__img--logo">
        <img src="assets/img/logo-white.png" alt="Natours logo"/>
      </div>
      <img src="assets/img/tours/{{tour?.images[1]}}" alt="" class="cta__img cta__img--1" />
      <img src="assets/img/tours/{{tour?.images[2]}}" alt="" class="cta__img cta__img--2" />

      <div class="cta__content">

        <div class="container">
          <div class="row">
            <div class="col-9">
              <h2 class="heading-secondary">What are you waiting for?</h2><br>
            <p class="cta__text">
              {{tour?.duration}} days. 1 adventure. Infinite memories. Make it yours today!
            </p>             
  
            </div>
            <div class="col-3" *ngIf="!isUserLoggedIn && !isAdmin">
              <button class="btn btn--green span-all-rows" routerLink="/login">Log in to Book</button>
            </div>
            <div class="col-3" *ngIf="isUserLoggedIn && !isAdmin">
              <button class="btn btn--green span-all-rows" routerLink="/booking/{{tour?._id}}">Book now!</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
